@{
    ViewBag.Title = "User Profile";
    var userType = "freelancer"; // Default user type, can be enhanced with database info
    
    // Pregătim skills-urile pentru afișare
    List<string> skillsList;
    if (ViewBag.Skills != null)
    {
        string[] skillsArray = ViewBag.Skills.Split(',');
        skillsList = new List<string>(skillsArray);
    }
    else
    {
        skillsList = new List<string>();
    }
}

<body>
    @Html.Partial("_Header")

    <div class="profile-container">
        <div class="profile-main">
            <div class="profile-sidebar">
                <div class="profile-stats-container">
                    <div class="profile-stat-box">
                        <div class="stat-label">Rating</div>
                        <a href="@Url.Action("UserReviews", "Main", new { userId = ViewBag.UserId })" class="rating-box">
                            <span class="rating-value">@(ViewBag.Rating != null ? ((double)ViewBag.Rating).ToString("0.#") : "0")</span>
                            <span class="rating-count">(@ViewBag.RatingCount)</span>
                            <i class="fas fa-star rating-star"></i>
                        </a>
                    </div>
                    
                    <div class="stat-divider"></div>
                    
                    <div class="profile-stat-box">
                        <div class="stat-label">Completed</div>
                        <a href="@Url.Action("CompletedProjects", "Main", new { userId = ViewBag.UserId })" class="projects-box">
                            <span class="projects-count">@ViewBag.CompletedProjects</span>
                            <i class="fas fa-check-circle projects-icon"></i>
                        </a>
                    </div>
                </div>
                
                <div class="sidebar-section">
                    <h3>Contact Information</h3>
                    <div class="sidebar-content contact-info">
                        <div class="contact-item">
                            <i class="fas fa-envelope"></i>
                            <span>@ViewBag.UserEmail</span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-phone"></i>
                            <span>@ViewBag.Phone</span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>@ViewBag.Location</span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-globe"></i>
                            <span>@ViewBag.Website</span>
                        </div>
                    </div>
                </div>
                
                <div class="sidebar-section">
                    <h3>Availability</h3>
                    <div class="sidebar-content">
                        <div class="availability-status available">
                            <span>@ViewBag.AvailabilityStatus</span>
                        </div>
                        <div class="availability-hours">
                            <i class="far fa-clock"></i>
                            <span>@ViewBag.AvailabilityHours</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="profile-content">
                <div class="profile-name-section">
                    <h1 class="user-name">@ViewBag.UserFullName</h1>
                    <div class="user-headline">
                        <span>@ViewBag.Headline</span>
                    </div>
                </div>
                
                <div class="content-section about-section">
                    <div class="section-header">
                        <h2>About</h2>
                    </div>
                    <div class="section-content" id="about-content">
                        <p>@ViewBag.About</p>
                    </div>
                </div>
                
                <div class="content-section skills-section">
                    <div class="section-header">
                        <h2>Skills</h2>
                    </div>
                    <div class="section-content" id="skills-content">
                        <div class="skills-container">
                            @foreach (var skill in skillsList)
                            {
                                <span class="skill-tag">@skill.Trim()</span>
                            }
                        </div>
                    </div>
                </div>
                
                <div class="content-section preferences-section">
                    <div class="section-header">
                        <h2>Preferences</h2>
                    </div>
                    <div class="section-content" id="preferences-content">
                        <div class="preferences-container">
                            <div class="preference-item">
                                <div class="preference-label">Preferred Project Types:</div>
                                <div class="preference-value">@ViewBag.PreferredProjectTypes</div>
                            </div>
                            <div class="preference-item">
                                <div class="preference-label">Hourly Rate:</div>
                                <div class="preference-value">@ViewBag.HourlyRate</div>
                            </div>
                            <div class="preference-item">
                                <div class="preference-label">Project Duration:</div>
                                <div class="preference-value">@ViewBag.ProjectDuration</div>
                            </div>
                            <div class="preference-item">
                                <div class="preference-label">Communication Style:</div>
                                <div class="preference-value">@ViewBag.CommunicationStyle</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    @Html.Partial("_Footer")

    <script>
        // Any specific JavaScript for the user profile page can go here
    </script>
</body>

<style>
    .profile-container {
        max-width: 1200px;
        margin: 2rem auto;
        padding: 0 1rem;
    }
    
    /* Fix pentru header - limitarea dimensiunii numelui utilizatorului */
    .header .user-name {
        font-size: 0.9rem !important;
        font-weight: 500 !important;
        margin: 0 !important;
    }
    
    /* Asigură că stilurile pentru profil nu afectează headerul */
    .header .user-menu .user-info,
    .header .user-menu .user-avatar {
        margin: 0 !important;
        padding: 0 !important;
    }
    
    /* Stiluri specifice pentru numele utilizatorului din profilul paginii, nu din header */
    .profile-name-section .user-name {
        font-size: 2rem;
        font-weight: 700;
        color: #0f172a;
        margin: 0 0 0.5rem 0;
    }
    
    .profile-main {
        display: grid;
        grid-template-columns: 1fr 2fr;
        gap: 2rem;
    }
    
    
    .profile-sidebar {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
    }
    
    .profile-stats-container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 1.5rem;
        background-color: #fff;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }
    
    .profile-stat-box {
        display: flex;
        flex-direction: column;
        align-items: center;
        flex: 1;
    }
    
    .stat-label {
        font-size: 0.875rem;
        color: #64748b;
        margin-bottom: 0.5rem;
        text-align: center;
    }
    
    .rating-box, .projects-box {
        display: flex;
        align-items: center;
        text-decoration: none;
        color: inherit;
        transition: color 0.2s ease;
    }
    
    .rating-box:hover, .projects-box:hover {
        color: #3b82f6;
    }
    
    .rating-value, .projects-count {
        font-size: 1.5rem;
        font-weight: 700;
        color: #0f172a;
    }
    
    .rating-count {
        font-size: 0.9rem;
        margin-left: 4px;
        color: #64748b;
    }
    
    .rating-star {
        color: #f59e0b;
        font-size: 1.2rem;
        margin-left: 4px;
    }
    
    .projects-icon {
        color: #10b981;
        font-size: 1.2rem;
        margin-left: 4px;
    }
    
    .stat-divider {
        width: 1px;
        height: 40px;
        background-color: #e2e8f0;
    }
    
    .sidebar-section {
        background-color: #fff;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        padding: 1.5rem;
    }
    
    .sidebar-section h3 {
        font-size: 1.1rem;
        color: #0f172a;
        margin: 0 0 1rem 0;
    }
    
    .sidebar-content {
        margin-bottom: 1rem;
    }
    
    .contact-item {
        display: flex;
        align-items: center;
        margin-bottom: 0.75rem;
    }
    
    .contact-item i {
        width: 20px;
        margin-right: 0.75rem;
        color: #64748b;
    }
    
    .availability-status {
        display: inline-block;
        padding: 0.4rem 0.8rem;
        border-radius: 999px;
        font-size: 0.875rem;
        font-weight: 500;
        margin-bottom: 0.75rem;
    }
    
    .availability-status.available {
        background-color: #ecfdf5;
        color: #10b981;
    }
    
    .availability-hours {
        display: flex;
        align-items: center;
        color: #64748b;
        font-size: 0.95rem;
    }
    
    .availability-hours i {
        margin-right: 0.5rem;
    }
    
    .profile-content {
        display: flex;
        flex-direction: column;
        gap: 2rem;
    }
    
    .profile-name-section {
        margin-bottom: 0.5rem;
    }
    
    .user-headline {
        font-size: 1.1rem;
        color: #64748b;
    }
    
    .content-section {
        background-color: #fff;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        padding: 1.5rem;
    }
    
    .section-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
    }
    
    .section-header h2 {
        font-size: 1.25rem;
        color: #0f172a;
        margin: 0;
    }
    
    .section-content p {
        color: #334155;
        line-height: 1.6;
        margin-bottom: 1rem;
    }
    
    .section-content p:last-child {
        margin-bottom: 0;
    }
    
    .skills-container {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
    }
    
    .skill-tag {
        background-color: #f1f5f9;
        color: #0f172a;
        padding: 0.4rem 0.8rem;
        border-radius: 4px;
        font-size: 0.875rem;
        transition: background-color 0.2s ease;
    }
    
    .skill-tag:hover {
        background-color: #e2e8f0;
    }
    
    .preferences-container {
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }
    
    .preference-item {
        display: flex;
        flex-direction: column;
    }
    
    .preference-label {
        font-weight: 500;
        color: #334155;
        margin-bottom: 0.25rem;
    }
    
    .preference-value {
        color: #64748b;
    }
    
</style> 